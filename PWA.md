# PWA

다양한 환경을 커버하기위한 하나의 기술. 웹을 더욱 앱처럼 느끼게끔 해준다.

IOS는 11.3 버전부터 크롬은 45버전부터 MS Edge도 현재 서비스워커를 지원하고 있다.

## 1. Service Worker

브라우저가 백그라운드로 실행하는 스크립트로 DOM을 직접 접근할 수 없다. 백그라운드 환경 동기화와 푸시알림이 가능하며 오프라인 환경까지 통제 할 수 있다.

### 서비스 워커 특징

1. 반드시 HTTPS여야한다.
2. 서비스 워커는 DOM에 직접 접근할 수 없다. 즉 서비스 워커 자체를 이용해서 DOM을 제어하는 건 불가하다.
3. 서비스 워커는 페이지의 네트워크 요청 처리 방법을 제어할 수 있다.
4. 서비스 워커는 사용되지 않을 때는 종료되고, 다음에 필요할 때 다시 시작된다. 서비스 워커가 종료 상태에서 재시작할 때 다시 사용해야하는 정보가 있는 경우 서비스 워커가 IndexedDB 에 대한 접근 권한을 가진다.
5. 서비스 워커는 Promise를 주로 사용한다.

### 서비스 워커 라이프사이클



1. 서비스워커 등록
2. 서비스워커 설치
3. 설치가 정상적으로 완료되면 서비스워커가 활성화됨
4. 유휴 상태 유지
   1. 페이지에서 네트워크 요청이나 메시지가 생성될 때 Fetch나 Message 이벤트를 처리한다.
   2. 종료된다. (종료되더라도 제어권한을 가지면 다시 유휴 상태로 이동한다)



서비스 워커로 캐싱하였을 때 이점

1. 캐싱되어있다보니 재접속시 빠름
2. 추가적인 데이터 로드가 적어짐

[코드예제](http://techhtml.github.io/blog/2018/pwa/)



## Web App

웹과 앱의 차이는 무엇일까? 여러가지가 있겠지만 몇가지 큰 차이점을 살펴보자

1. 웹은 브라우저를 통해 접근하고, 앱은 앱 아이콘을 통해 접근한다.
2. 웹은 브라우저 Frame (주소창 등)이 노출되고, 앱은 어플리케이션 UI가 노출된다.

아이폰는 웹앱메 메니페스트 지원 안함



