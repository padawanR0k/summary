## 데이터베이스 구축

### 설계

- 고려사항
    - 무결성
    - 일관성
    - 회복
    - 보안
    - 효율성
    - 데이터베이스 확장
- 순서
    - 요구 조건 분석
        - 명세서 작성
    - 개념적 설계
        - 모델링
    - 논리적 설게
        - 논리스키마, 트랙잭션 인터페이스 설계
    - 물리적 설계
        - 물리적 구조의 데이터로 변환
        - 저장  레코드 설계
    - 구현

### 데이터 모델

- 구성 요소
    - 개체
        - 정보단위, 현실세계의 대상체
    - 속성
        - 가장 작은논리적 단위(데이터 필드)
    - 관계
        - 개체관의 관계 또는 속성간 논리적 연결
            - ex) 외래키
- 개념적 모델
    - E-R모델
- 논리적 모델
    - 개념적 모델링 과정에서 얻은 개념적 구조를 컴퓨터가 이해하고 처리할 수 있는 컴퓨터 세계의 환경에 맞도록 변환하는 과정

### 개체 (Entity)

- 개체 == 테이블
- 업무에서 사용되는 용어로 지정, 약어는 지양
- 유일한 이름

### 관계

- 관계의 형태
    - 1대1
    - 1대N
    - N대N

### 식별자

- 하나의 개체에서 유일하게 구분할 수 있는 구분자
- 컬럼도 식별자의 종류중 하나인듯...?
- 주 식별자(Primary Identifier)
    - 개체에 1개만 존재  (pk랑 똑같음)
- 보조 식별자
- 여러개 존재 가능대리 식별자
    - 주 식별자가 2개이상이면 묶어서 하나로 사용하는 식별자

### E-R 관계 모델

- 개념적 데이터 모델
- 개체 - 속성 - 관계로 구성

![https://blog.kakaocdn.net/dn/Ilrxt/btqJ1McfUhH/AZGMteJMkhI1wVbvZKl6s1/img.jpg](https://blog.kakaocdn.net/dn/Ilrxt/btqJ1McfUhH/AZGMteJMkhI1wVbvZKl6s1/img.jpg)

### 관계형 데이터 모델

- 표를 사용해 DB상호관계를 정의
- 기본키와  외래키로 데이터의 관계를 표현
- SQL에서 1:1, 1:N, N:M 관계를 자유롭게 표현

### RDBMS 구조

![https://blog.kakaocdn.net/dn/c1Jet0/btqJXV1691Z/A5hEayTTTDqTrFdt0fqlZK/img.png](https://blog.kakaocdn.net/dn/c1Jet0/btqJXV1691Z/A5hEayTTTDqTrFdt0fqlZK/img.png)

- 구조
    - 튜플, 행, 레코드
        - 실제 데이터와  같은 의미
        - 튜플의 수 = 카디널리티 = SELECT COUNT()?
    - 필드, 열, 속성
        - 데이터베이스를 구성하는 가장 작은 논리적 단위
        - 속성의 수 = 디그리 수
    - 도메인
        - 하나의 속성==컬럼이 가질 수 있는 원자값들의 집함
            - ex) 회원타입 컬럼에는 일반부터 VVIP등이 올 수 있다. 그 종류의 수
- 릴레이션의 특징
    - 튜플은 비순차적, 서로 상이한 값을 가짐
    - 속성은 원자값을 가지며, 유일한 이름을 가짐

### 키

튜플을 구분하는 속성

- 특성
    - 유일성
        - 유일한 값, 유일하게 식별가능
    - 최소성
        - 식별하기 위해 꼭 필요한 속성으로 구성
- 키
    - 후보키
        - 유일성, 최소성 만족
    - 기본키
        - 중복된 값과 널값을 가질 수 없음
    - 대체키
        - 후보키가 2개이상이면 기본키제외 나머지 후보키
    - 슈퍼키
        - 속성들의 집합으로 구성된 키
        - 최소성만족 못함
    - 외래키
        - 다른 릴레이션==테이블의 기본키를 참조하는 속성

### 무결성

디비의 값과 현실 세상의 일치하는 정확성을 의미

- 개체 무결성
    - 기본키는 어떤 속성도 널값이나 중복을 가질 수 없음
    - 속성 값이 널값이 아닌 값을 가져야함
- 도메인 무결성
    - 메인에 지정된 값 만을 가져야함
- 참조 무결성
    - 릴레이션은 키는 참조할 수 없는 외래키를 가질 수 없다.

### 트랜잭션

- 디비를 변화시키는 연산들,  한번에 다 수행되어야함
- 특성은 [소프트웨어 개발] 부분에 나옴

### 인덱스

- 디비 튜닝; 빠른 접근이 필요할 때 사용
- 가능한 한 수정이 빈번하지 않을때
- ORDER BY, GROUP BY, UNION이 빈번한때
- 데이터의 양이 많은 테이블에 경우 많은 오버헤드 발생 → 성능저하

### 뷰

- 테이블을 가상으로 본뜬것
- 논리적으로만 존재
- 본체 테이블 삭제시, 같이 삭제됨
- ALTER로 정의 변경 불가

### 데이터베이스 보안

- 암호화 방식
    - 개인키
        - 동일한 키로  암호화, 복호화
        - ex) DES,  AES, SEED, ARIA
    - 공개키
        - 공개키로 암호화, 비밀키로 복호화
        - ex) RSA, Diffie Hellman

### SQL 활용

- 절차형
    - 그냥 일반 SQL 사용방법
    - 재활용성은 떨어지지만 연속적인 작업처리에 적합
- 프로시저
    - 미리 저장해 놓은 SQL을 호출해 작업수행
    - 마감, 일괄작업에 적합
- 트리거
    - 삽입, 갱신, 삭제 이벤트에 반응해서 특정 작업을 자동으로 수행
    - DCL(GRANT, REVOKE, COMMIT, ROLLBACK)사용 ㅇ불가
    - 특정 데이터 변경시 다른 작업을 추가적으로할때 사용 (무결성 유지, 로그 메시지 출력 목적)
- 사용자 정의함수
    - 프로시저와 유사
    - 예약어 RETURN이 있으며 처리결과른 단일값을 전달
    - SELECT만 가능