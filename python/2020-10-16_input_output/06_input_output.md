# 6장 - 입출력

날짜: 2020년 10월 15일

f = open('file_name', 'mode')

파이썬에서는 개발 도중, 변수를 직접 확인하거나 파일로 입출력해야하는 경우 제공하는 함수가 있다.

### 출력

---

- `print(arguments, sep=string?)`
    - 기본적인 출력 함수,  콘솔로그처럼 확인시 사용
    - `sep`
        - 문자열을  join할 때 붙일  suffix 문자열
    - `\n`
        - 줄바꿈
    - 형식지정 출력

        ```python
        name = "광재"
        print("%s는 나의 친구다", % name)
        # 변수에 타입에 따라
        # %s 문자열
        # %d 정수
        # %f 실수 (소수점 6자리까지)
        # %F 실수
        >> 광재는 나의 친구다

        print("{0}, {1}는 나의 친구다".format("A", "B"))
        >> A, B는 나의 친구다

        a = 0.123456789123456789
        print("{0: 2f}, {0:.5f}".format(a)
        >> 0.12, 0.12346
        ```

        - [이외의 다양한 포매팅방법이 있다](https://docs.python.org/ko/3/tutorial/inputoutput.html)

- `str.format(arguments)`
    - 문자열에 대해 형식지정을 하지않아도 데이터의 타입에 맞게 문자열을 변경시켜 반환함. (자주사용된다)
    - 치환시킬 변수의 위치를 `{}`로 표현한다. 해당 부분은 인수로 받은 변수들에 의해 차례대로 치환된다.

    ```python
    print("{0: .2f}, {0: .5f}".format(a))
    >> 0.12, 0.12346
    ```

    - 파이썬에서는 아주 다양한 포매팅 형식을 지원한다. 개발하면서 특정 포맷이 필요한 경우 [이 링크](https://dojang.io/mod/page/view.php?id=2300)를 참고해서 하면될듯함

### 입력

---

- `input()`
    - 문자열을 입력받기 위해 사용한다.

    ```python
    num = input("숫자를 입력해주세요")
    # num에 입력한 값이 string 타입으로 할당된다.
    ```

### 파일 읽고 쓰기

---

파일을 열거나 쓰기 위한 함수를 제공한다.

- `open(dir, mode)`

    ```python
    f = open('file_name', 'mode')
    ```

    - 인수
        - `file_name`
            - 열려는 파일명, 없다면 생성
        - `mode`
            - 파일 열기의 속성
                - r (기본)
                    - 읽기모드
                - w
                    - 쓰기모드
                    - 중복인 경우 기존 내용 삭제
                - x
                    - 쓰기모드
                    - 중복인 경우 오류 발생
                - a
                    - 중복이 아니라면 w모드와 같은 기능
                - b
                    - 바이너리 모드로 파일 열기
                - t
                    - 텍스트 파일 모드로 열기

    ```python
    f = open('test.txt', 'w') # test.txt 파는 ㅍ ㅏ일을 만들어 f에 할당 
    f.write('테스트 입니다') # 파일에 문자열을 쓴다.
    f.close() # 파일을 닫는다
    ```

    ⚠️ 파이썬에서는 운영체제 명령어를 실행할 수 있다!

    → 만약 파이썬으로 크론같은걸 돌리게 되면,  그때 운영체제가 뭔지 잘 알아야할듯 

    ```python
    # 윈도우의 경우 
    !type test.txt 
    # 를 실행하면 해당 파일에 내용을 출력함

    ls
    >> 
    C 드라이브의 볼륨에는 이름이 없습니다.
     볼륨 일련 번호: 3893-174A

    /05_control 디렉터리

    2020-10-16  오전 11:44    <DIR>          .
    2020-10-16  오전 11:44    <DIR>          ..
    2020-10-16  오전 11:35    <DIR>          .ipynb_checkpoints
    2020-10-14  오후 03:29             1,455 01_if.ipynb
    2020-10-15  오후 04:58             8,211 02_for.ipynb
    2020-10-16  오전 11:44             2,898 05_01~03.ipynb
    2020-10-16  오전 11:43                13 test.txt
                   4개 파일              12,577 바이트
                   3개 디렉터리  182,199,824,384 바이트 남음
    ```

- 파일 읽기

    ```python
    f = open('file_name') # f에 파일정보가 할당됨
    data = f.read() # data의 데이터가 할당됨
    f.close() # 파일을 닫음
    ```

- `file.readline()`
    - 텍스트 파일 전체가 필요한게 아닌 한줄씩 읽어오는 경우 사용된다.
    - 한 파일에 대해 `readline()`을 하게되면 임시에 저장소에 함수를 실행시킨 횟수(줄위치)가 저장되며, 실행할 때마다 1씩 증가한다. 모든 줄을 읽게되면 빈 문자열을 리턴하게된다.
- `file.readlines()`
    - 텍스트 파일 전체를 읽어와서 개항문자(`\n`)로 split 하여 list 타입으로 된 데이터를 리턴한다.

### 파일 읽고, 쓰기 유틸 함수

---

- 파일열기를  간단하게해주는 with의 구조

    `with`문을 사용하게 되면 파일을 닫는 부분을 생략할 수 있다

    ```python
    with open('test.txt', 'w') as f: # f라는 변수에 데이터를 할당한다
    	f.write('abc')

    # 함수 종료시 close() 함수 자동실행됨
    ```

⚠️ 파이썬에서는 pandas 라는 데이터핸들링을 쉽게하기 위한 라이브러리를 자주사용한다고 한다. 그때 이렇게 파일을 열고 쓰고하는 일이 많은데 이런 개념을 잘 알고있어야 도움이 된다고함