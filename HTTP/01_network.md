# 인터넷 네트워크
웹이나 HTTP도 결국 인터넷망 위에서 작동한다. 그 기반에 대해 다룬다.


## IP (Internet Protocol)
- 물리적으로 멀리 떨어져있는 두대의 PC가 통신하기 위해서는 인터넷이 필요하다. 이때 사용되는 프로토콜이 Internet Protocol이다.
	- A 컴퓨터에서 B 컴퓨터로 데이터를 전달하기 위해 정해놓은 규칙이다.

### 방식
- 지정한 IP주소에 데이터를 전달한다. ex) B컴퓨터의 IP 주소
- Packet 통신단위로 데이터를 전달한다.
	- packet에는 출발지, 목적지와 내용등을 가지고 있어 인터넷상의 노드가 규칙에 따라 목적지까지 패킷을 유도한다.
	- 성공적으로 패킷이 목적지까지 도착한경우, 목적지에서 출발지로 이동하는 응답패킷도 보내게 된다.

### IP 프로토콜의 한계
- 비연결성
	- 패킷을 받을 대상이 없거나 불능상태여도 전송함
- 비신뢰성
	- 중간에 패킷이 사라지거나 순서대로 안올수도있음
- 프로그램 구분
	- 같은 IP를 사용하는 PC가 여러 애플리케이션을 사용하는 경우 구분?
-> 한계를 해결하기 위한 프로토콜 TCP UDP

#### 인터넷 프로토콜 스택의 4계층
- HTTP, FTP - 애플리케이션 계층
- TCP, UDP - 전송 계층
- IP - 인터넷 계층
- 네트워크 인터페이스 계층

#### 계층을 이동하면서 데이터가 변하는 순서
- IP 패킷
	- 출발지 IP
	- 목적지 IP
	- etc..
- TCP 세그먼트 (IP패킷을 감싼다.)
	- 출발지 PORT, 목적지 PORT
	- 전송제어, 순서, 검증 정보
		- IP프로토콜의 비신뢰석 극복
- Ethernet frame (TCP 세그먼트를 감싼다.)
	- 네트워크 인터페이스 계층(LAN 드라이버, LAN 장비)
	- 물리적인 데이터 주소등을 가지고 있다.

## TCP (Transmission Control Protocol)
- 연결지향 - TCP 3 way handshake
- 데이터 전달 보증
- 순서 보장
대부분 TCP 사용


#### TCP 3 way handshake
- 비연결성을 극복하기 위한 방법
- 연결과정
	1. 클라이언트가 서버에게 `A`라는 값을 보냄
	2. 서버는 `A`에 `B`를 더한 `AB`라는 값을 보냄
	3. 클라이언트는 서버에게 `B`라는 값을 보냄
	4. 서버 클라이언트 모두 서로 연결되었음을 알수있다. (개념적인 연결. 사실상 중간의 노드들이 실시간으로 항상 연결된게 아니기때문)

#### 데이터 전달 보증
- 클라이언트가 서버에게 패킷을 전달한 경우, 정상적으로 전달됬는지에 대한 정보를 서버가 클라이언트에게 다시보냄

#### 순서보장
- 대용량 메세지를 보내는 경우, 청크해서 보내는 경우가 있다. 이때 모든 데이터가 같은 노드를 통해 가는게 아니기 때문에 순서가 변할 수 있다.
- TCP는 올바르지않은 순서로 패킷이 전달된 경우, 제대로 된 순서로 다시보내게끔 클라이언트에게 요청한다. (이는 TCP세그먼트에 순서, 검증, 전송제어 정보가 있기떄문)

### UDP (User Datagram Protocol ) 특징
- 기능이 거의없음 = IP 프로토콜과 거의 비슷함
- PORT, 체크섬 기능이 있음
	- 1개의 PC로 여러 애플리케이션을 돌릴 때, 각 애플리케이션에 연결된 인터넷망을 구별하기 위해 PORT를 사용
- 그럼 왜 사용하는가?
	- TCP보다 가지고 있는 데이터가 적기때문에 더 빠르다는 장점이 있다. 대신 애플리케이션단에서 추가적으로 기능을 직접 구현해야한다.

### PORT
- 1개의 클라이언트가 다수의 애플리케이션으로 연결을 해야하는 경우
	- ex) 게임과 디스코드를 동시에 사용
- TCP/IP 패킷정보중 TCP 세그먼트에 출발/도착지의 PORT 정보가 있음
- 비유
	- IP는 어떤 아파트, PORT는 몇동 몇호
- 범위
	- 0~65535
	- 0~1023 잘알려짐, 사용하지 않는게 좋다

### DNS (Domain Name System)
- xxx.xxx.xxx.xxx 로 이루어진 IP주소대신 사람인 인식하기 쉬운 명칭으로 주소를 매핑한것.
- 이점
	- 아이피주소가 바뀌어도 사람은 문자열만 기억하면됨
- 이 DNS를 소유한자가 악용한다면?
	- -> 그런걸 막고, 효율적인 관리를 위하여 ICANN 이라는 비영리 기관에서 DNS체게를 관리감독하고 있음